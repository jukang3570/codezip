# 2023 리눅스 프로그래밍 프로젝트 – 주식 등록 및 구매/판매 키오스크

## 프로젝트 개요
- 다중 이용자가 동시에 접속해 주식을 조회·거래할 수 있는 C 기반 콘솔 키오스크입니다.
- 관리자와 구매자 프로세스를 분리하고, 주식 정보는 공유 메모리와 유닉스 도메인 소켓으로 동기화해 실시간 수정을 지원합니다.

## 기술 스택
- **언어**: C
- **시스템 프로그래밍**: `fork`, `execvp`, `alarm`, `mmap`, `socket(AF_UNIX, SOCK_STREAM)`
- **동시성 제어**: 공유 구조체(`struct server`)와 `MAP_SHARED` 메모리 매핑으로 프로세스 간 데이터 일관성 유지

## 주요 기능
- **역할 기반 로그인**: `login.c`에서 사용자 유형을 구분하고, 구매자는 초기 자본을 입력·전달하며, 관리자는 비밀번호 인증 후 서버 메뉴로 이동합니다.
- **실시간 재고 반영**: `rserver.c`에서 관리자가 설정한 주식 정보를 공유 메모리에 보관하고, 다중 클라이언트 요청을 `fork`로 처리해 즉시 반영합니다.
- **거래 및 자산 관리**: `rclient.c`는 서버와 소켓 통신으로 매수·매도를 수행하고, 보유 주식과 잔액을 CLI 화면에 갱신합니다.
- **보안/안정 장치**: 일정 시간 입력이 없으면 `alarm`을 활용해 자동 로그아웃하고, 잘못된 입력에 대한 예외 처리를 제공합니다.

## 빌드 및 실행 방법
1. 각 소스 파일을 개별 실행 파일로 컴파일합니다.
   ```bash
   gcc -o login login.c
   gcc -o customer_menu customer_menu.c
   gcc -o server_menu server_menu.c
   gcc -o rserver rserver.c
   gcc -o rclient rclient.c
   ```
2. 실행 순서는 다음과 같습니다.
   - **서버/관리자**: `./login` → 이름 입력 → 유형 `1` → 비밀번호 `2314` → 주식 정보를 등록하고 서버 메뉴 실행
   - **클라이언트/구매자**: `./login` → 이름 입력 → 유형 `0` → 초기 자본 입력 → 구매/판매 메뉴 선택 후 거래 진행

## 파일 구성
- `login.c`, `login.h`: 역할 선택 및 인증 흐름
- `server_menu.c`, `server.h`: 관리자 전용 메뉴 및 주식 설정
- `customer_menu.c`, `customer.h`: 고객용 UI와 자산 관리 구조체
- `rserver.c`: 공유 메모리 기반 주식 서버
- `rclient.c`: 주식 정보 조회 및 거래 클라이언트
